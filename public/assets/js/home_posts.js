{console.log("post script loaded");let e=function(){let e=$("#new-post-form");e.submit((function(o){o.preventDefault(),$.ajax({type:"POST",url:"/posts/create",data:e.serialize(),success:function(e){let o=t(e.data.post);$("#posts-list-container>ul").prepend(o),n($(" .delete-post-button",o))},error:function(e){console.log(e.responseText)}})}))},t=function(e){return $(`<li id="post-${e._id}">\n                    ${e.content} \n                    <p>\n                    Written By: ${e.user.name}\n                    </p>\n                    <small>\n                        <a class="delete-post-button" href="/posts/destroy/${e._id}">Delete Post</a>\n                    </small>\n                    \n                    <div class="post-comment">\n                        <form action="/comments/create" method="POST">\n                            <input type="hidden" name="postId" value="${e._id}">\n                            <textarea name="content" placeholder="Comment here..." rows="2" cols="30" required  ></textarea>\n                            <input type="submit" value="add">\n                        </form> \n                    </div>\n                    <div class="post-comment-list">\n                        <ul id="post-comments-${e._id}" >\n                \n                        </ul>\n                    </div>\n                </li>`)},n=function(e){console.log("deletelink is: ",e),$(e).click((function(t){t.preventDefault(),$.ajax({type:"GET",url:$(e).prop("href"),success:function(e){$(`#post-${e.data.post_id}`).remove()},error:function(e){console.log(e.responseText)}})}))};e()}